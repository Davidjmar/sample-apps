(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/loading.4792c04c.svg"},20:function(e,t,n){e.exports=n.p+"static/media/logo.3c3e4840.png"},23:function(e,t,n){e.exports=n(49)},4:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(13),c=n.n(o),s=(n(4),n(14)),r=n(15),l=n(22),u=n(16),d=n(2),h=n(21),m=n(17),g=n.n(m),f=n(18),p=n.n(f),w=function(e){return!1===e.age?i.a.createElement("div",null,i.a.createElement("h3",null,"No face found")):i.a.createElement("div",null,i.a.createElement("h3",null,"Age ",e.age.toFixed(0)))},v=n(19),E=n.n(v),b=function(){return i.a.createElement("div",{className:"spinner"},i.a.createElement("img",{src:E.a,alt:"Loading"}))},j=n(20),k=n.n(j),O=function(){return i.a.createElement("div",{className:"sidebar"},i.a.createElement("img",{src:k.a,alt:"logo"}),i.a.createElement("h3",null,"AgeBox"),i.a.createElement("a",{href:"https://support.trueface.ai"},"Support"))},S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).setRef=function(e){n.webcam=e},n.submitPhoto=function(e){n.setState({loading:!0});var t={image:e};p.a.post("/predict",t).then(function(e){console.log(e),e.data.success?n.setState({result:!0,age:e.data.data[0].estimated_age,loading:!1}):n.setState({result:!0,age:!1,loading:!1})}).then(function(){setTimeout(function(){n.setState({result:!1})},5e3)}).catch(function(e){console.log(e)})},n.capture=function(){var e=n.webcam.getScreenshot();n.submitPhoto(e.slice(23))},n.update=function(){n.setState({width:window.innerWidth,height:window.innerHeight})},n.state={width:1080,height:720,age:!1,loading:"",result:!1,test:""},n.setRef=n.setRef.bind(Object(d.a)(n)),n.capture=n.capture.bind(Object(d.a)(n)),window.addEventListener("resize",n.update),n.submitPhoto=n.submitPhoto.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.update)}},{key:"render",value:function(){var e={width:this.state.width,height:this.state.height,facingMode:"user"};return i.a.createElement("div",{className:"main"},i.a.createElement(O,null),i.a.createElement("div",{className:"webcam"},i.a.createElement(g.a,{audio:!1,height:this.state.height,ref:this.setRef,screenshotFormat:"image/jpeg",width:this.state.width,videoConstraints:e}),i.a.createElement("button",{onClick:this.capture}),i.a.createElement("div",null,this.state.loading&&i.a.createElement(b,null)),i.a.createElement("div",{className:"results"},this.state.result&&i.a.createElement(w,{age:this.state.age}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.13e98615.chunk.js.map